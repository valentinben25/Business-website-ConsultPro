
/* ----------------------------------------------------
   1) i18n â€“ Ð¿Ñ€ÐµÐ²Ð¾Ð´Ð¸ EN / BG
---------------------------------------------------- */

const translations = {
  en: {
    nav: {
      home: "Home",
      services: "Services",
      stats: "Stats",
      portfolio: "Portfolio",
      testimonials: "Testimonials",
      pricing: "Pricing",
      contact: "Contact",
      map: "Map"
    },

    partners: {
      title: "Our Trusted Partners",
      subtitle: "Weâ€™re proud to collaborate with these leading brands and organizations.",
      img1_alt: "Partner 1",
      img2_alt: "Partner 2",
      img3_alt: "Partner 3",
      img4_alt: "Partner 4",
      img5_alt: "Partner 5"
    },

    awards: {
      title: "Our Awards & Achievements",
      subtitle: "Recognizing our dedication to excellence, innovation, and customer satisfaction.",
      card1: { title: "Best Consulting Firm 2023", text: "Awarded for outstanding business strategy and innovation." },
      card2: { title: "Excellence in Customer Service", text: "Recognized for our exceptional client support and care." },
      card3: { title: "Top Business Growth 2024", text: "Honored for driving rapid and sustainable growth." },
      card4: { title: "Innovation Award", text: "Celebrating creative and forward-thinking business solutions." }
    },

    blog: {
      title: "Latest Insights",
      subtitle: "Stay updated with our business tips, success stories, and industry news.",
      post1: {
        title: "How to Build a Winning Business Strategy",
        text: "Discover the key elements of developing a strong strategy that drives growth and success."
      },
      post2: {
        title: "Top 5 Market Trends for 2025",
        text: "Explore the biggest shifts that will shape the future of business and consulting."
      },
      post3: {
        title: "Boost Your Teamâ€™s Productivity",
        text: "Learn simple yet powerful techniques to keep your team motivated and efficient."
      },
      btn: "Read More"
    },

    journey: {
      title: "Our Journey",
      subtitle: "A look back at our milestones and growth through the years.",
      step1: { title: "2016 Foundation of ConsultPro", text: "ConsultPro began its journey..." },
      step2: { title: "2018 International Expansion", text: "We secured our first international client..." },
      step3: { title: "2020 Innovation & Growth", text: "Our consulting team grew across Europe..." },
      step4: { title: "2023", text: "Celebrated a major milestone â€” over 100 projects delivered." },
      step6: { text: "ConsultPro continues to lead the way in digital transformation." }
    },

    careers: {
      title: "Join Our Team",
      subtitle1: "We're always looking for passionate and talented professionals to grow with us.",
      position1: { text: "Business Consultant" },
      position2: { text: "Financial Analyst" },
      position3: { text: "Marketing Manager" },
      subtitle2: "Provide expert advice and insights...",
      subtitle3: "Analyze financial data and develop strategies...",
      subtitle4: "Lead digital campaigns and branding..."
    },

    map: {
      title: "Find Us in London"
    },

    footer: {
      rights: "Â© 2025 ConsultPro. All rights reserved."
    }
  },

  /* ----------------------------------------------------
     ðŸ‡§ðŸ‡¬ Bulgarian translations
  ---------------------------------------------------- */
  bg: {
    nav: {
      home: "ÐÐ°Ñ‡Ð°Ð»Ð¾",
      services: "Ð£ÑÐ»ÑƒÐ³Ð¸",
      stats: "Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°",
      portfolio: "ÐŸÐ¾Ñ€Ñ‚Ñ„Ð¾Ð»Ð¸Ð¾",
      testimonials: "ÐžÑ‚Ð·Ð¸Ð²Ð¸",
      pricing: "Ð¦ÐµÐ½Ð¸",
      contact: "ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚",
      map: "ÐšÐ°Ñ€Ñ‚Ð°"
    },

    partners: {
      title: "ÐÐ°ÑˆÐ¸ Ð´Ð¾Ð²ÐµÑ€ÐµÐ½Ð¸ Ð¿Ð°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€Ð¸",
      subtitle: "Ð“Ð¾Ñ€Ð´ÐµÐµÐ¼ ÑÐµ Ñ Ð½Ð°ÑˆÐµÑ‚Ð¾ ÑÑŠÑ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ Ð²Ð¾Ð´ÐµÑ‰Ð¸ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸.",
      img1_alt: "ÐŸÐ°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€ 1",
      img2_alt: "ÐŸÐ°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€ 2",
      img3_alt: "ÐŸÐ°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€ 3",
      img4_alt: "ÐŸÐ°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€ 4",
      img5_alt: "ÐŸÐ°Ñ€Ñ‚Ð½ÑŒÐ¾Ñ€ 5"
    },

    awards: {
      title: "ÐÐ°ÑˆÐ¸Ñ‚Ðµ Ð½Ð°Ð³Ñ€Ð°Ð´Ð¸ Ð¸ Ð¿Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ñ",
      subtitle: "ÐŸÑ€Ð¸Ð·Ð½Ð°Ð½Ð¸Ðµ Ð·Ð° Ð½Ð°ÑˆÐ°Ñ‚Ð° Ð¾Ñ‚Ð´Ð°Ð´ÐµÐ½Ð¾ÑÑ‚ Ð½Ð° Ð¸Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸ Ð¸ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾.",
      card1: { title: "ÐÐ°Ð¹-Ð´Ð¾Ð±Ñ€Ð° ÐºÐ¾Ð½ÑÑƒÐ»Ñ‚Ð°Ð½Ñ‚ÑÐºÐ° Ñ„Ð¸Ñ€Ð¼Ð° 2023", text: "ÐŸÑ€Ð¸Ð·Ð½Ð°Ð½Ð¸Ðµ Ð·Ð° Ð¸Ð·ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÐ»Ð½Ð¸ Ð±Ð¸Ð·Ð½ÐµÑ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸." },
      card2: { title: "ÐžÑ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð·Ð° Ð¾Ð±ÑÐ»ÑƒÐ¶Ð²Ð°Ð½Ðµ", text: "ÐŸÑ€Ð¸Ð·Ð½Ð°Ð½Ð¸Ðµ Ð·Ð° Ð½ÐµÐ²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ¾ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð²Ð°Ð½Ðµ." },
      card3: { title: "ÐÐ°Ð¹-Ð´Ð¾Ð±ÑŠÑ€ Ð±Ð¸Ð·Ð½ÐµÑ Ñ€Ð°ÑÑ‚ÐµÐ¶ 2024", text: "Ð—Ð° ÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð² Ð¸ Ð±ÑŠÑ€Ð· Ñ€Ð°ÑÑ‚ÐµÐ¶." },
      card4: { title: "ÐÐ°Ð³Ñ€Ð°Ð´Ð° Ð·Ð° Ð¸Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸", text: "ÐžÑ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð·Ð° Ð¸Ð½Ð¾Ð²Ð°Ñ‚Ð¸Ð²Ð½Ð¸ Ð±Ð¸Ð·Ð½ÐµÑ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ." }
    },

    blog: {
      title: "ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸ ÑÑ‚Ð°Ñ‚Ð¸Ð¸",
      subtitle: "Ð¡Ð»ÐµÐ´ÐµÑ‚Ðµ Ð½Ð°ÑˆÐ¸Ñ‚Ðµ Ð±Ð¸Ð·Ð½ÐµÑ ÑÑŠÐ²ÐµÑ‚Ð¸ Ð¸ Ð¸Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸.",
      post1: { title: "ÐšÐ°Ðº Ð´Ð° Ð¸Ð·Ð³Ñ€Ð°Ð´Ð¸Ñ‚Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð° ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ", text: "ÐšÐ»ÑŽÑ‡Ð¾Ð²Ð¸ ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¸ Ð·Ð° ÑÑ‚Ð°Ð±Ð¸Ð»ÐµÐ½ Ñ€Ð°ÑÑ‚ÐµÐ¶." },
      post2: { title: "Ð¢Ð¾Ð¿ 5 Ñ‚ÐµÐ½Ð´ÐµÐ½Ñ†Ð¸Ð¸ Ð·Ð° 2025", text: "Ð“Ð¾Ð»ÐµÐ¼Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð¼ÐµÐ½Ð¸ Ð² Ð±Ð¸Ð·Ð½ÐµÑÐ°." },
      post3: { title: "ÐŸÐ¾Ð²Ð¸ÑˆÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ‚Ð° Ð½Ð° ÐµÐºÐ¸Ð¿Ð°", text: "Ð•Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¸ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸ Ð·Ð° Ð¼Ð¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ." },
      btn: "ÐŸÑ€Ð¾Ñ‡ÐµÑ‚Ð¸ Ð¾Ñ‰Ðµ"
    },

    journey: {
      title: "ÐÐ°ÑˆÐ¸ÑÑ‚ Ð¿ÑŠÑ‚",
      subtitle: "Ð¥Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ Ð½Ð° Ñ€Ð°ÑÑ‚ÐµÐ¶Ð° Ð¸ ÑƒÑÐ¿ÐµÑ…Ð¸Ñ‚Ðµ Ð½Ð¸.",
      step1: { title: "2016 Ð¡ÑŠÐ·Ð´Ð°Ð²Ð°Ð½Ðµ Ð½Ð° ConsultPro", text: "ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð½Ð° Ð½Ð°ÑˆÐ°Ñ‚Ð° Ð¼Ð¸ÑÐ¸Ñ..." },
      step2: { title: "2018 ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ð¾ Ñ€Ð°Ð·ÑˆÐ¸Ñ€ÑÐ²Ð°Ð½Ðµ", text: "ÐŸÑŠÑ€Ð²Ð¸ Ð¼ÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´ÐµÐ½ ÐºÐ»Ð¸ÐµÐ½Ñ‚..." },
      step3: { title: "2020 Ð˜Ð½Ð¾Ð²Ð°Ñ†Ð¸Ð¸ Ð¸ Ñ€Ð°ÑÑ‚ÐµÐ¶", text: "Ð Ð°Ð·ÑˆÐ¸Ñ€ÑÐ²Ð°Ð½Ðµ Ð² Ð•Ð²Ñ€Ð¾Ð¿Ð°..." },
      step4: { title: "2023", text: "ÐÐ°Ð´ 100 ÑƒÑÐ¿ÐµÑˆÐ½Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°." },
      step6: { text: "Ð›Ð¸Ð´ÐµÑ€ Ð² Ð´Ð¸Ð³Ð¸Ñ‚Ð°Ð»Ð½Ð°Ñ‚Ð° Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ." }
    },

    careers: {
      title: "ÐŸÑ€Ð¸ÑÑŠÐµÐ´Ð¸Ð½Ð¸ ÑÐµ ÐºÑŠÐ¼ ÐµÐºÐ¸Ð¿Ð°",
      subtitle1: "Ð’Ð¸Ð½Ð°Ð³Ð¸ Ñ‚ÑŠÑ€ÑÐ¸Ð¼ Ñ‚Ð°Ð»Ð°Ð½Ñ‚Ð¸.",
      position1: { text: "Ð‘Ð¸Ð·Ð½ÐµÑ ÐºÐ¾Ð½ÑÑƒÐ»Ñ‚Ð°Ð½Ñ‚" },
      position2: { text: "Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð² Ð°Ð½Ð°Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€" },
      position3: { text: "ÐœÐ°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³ Ð¼ÐµÐ½Ð¸Ð´Ð¶ÑŠÑ€" },
      subtitle2: "ÐŸÑ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²ÑÐ¹ Ð±Ð¸Ð·Ð½ÐµÑ ÑÑŠÐ²ÐµÑ‚Ð¸...",
      subtitle3: "ÐÐ½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð°Ð¹ Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¸ Ð´Ð°Ð½Ð½Ð¸...",
      subtitle4: "Ð’Ð¾Ð´Ð¸ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³Ð¾Ð²Ð¸ ÐºÐ°Ð¼Ð¿Ð°Ð½Ð¸Ð¸..."
    },

    map: {
      title: "ÐÐ°Ð¼ÐµÑ€ÐµÑ‚Ðµ Ð½Ð¸ Ð² Ð›Ð¾Ð½Ð´Ð¾Ð½"
    },

    footer: {
      rights: "Â© 2025 ConsultPro. Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ð¿Ñ€Ð°Ð²Ð° Ð·Ð°Ð¿Ð°Ð·ÐµÐ½Ð¸."
    }
  }
};

/* ----------------------------------------------------
   2) Apply translations
---------------------------------------------------- */

function applyTranslations(lang) {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n.split(".");
    let value = translations[lang];

    key.forEach(k => value = value?.[k]);

    if (value) el.textContent = value;
  });

  document.querySelectorAll("[data-i18n-html]").forEach(el => {
    const key = el.dataset.i18nHtml.split(".");
    let value = translations[lang];
    key.forEach(k => value = value?.[k]);
    if (value) el.innerHTML = value;
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.dataset.i18nPlaceholder.split(".");
    let value = translations[lang];
    key.forEach(k => value = value?.[k]);
    if (value) el.placeholder = value;
  });

  document.querySelectorAll("[data-i18n-alt]").forEach(el => {
    const key = el.dataset.i18nAlt.split(".");
    let value = translations[lang];
    key.forEach(k => value = value?.[k]);
    if (value) el.alt = value;
  });
}

/* ----------------------------------------------------
   3) Language switcher + localStorage
---------------------------------------------------- */

function setLanguage(lang) {
  localStorage.setItem("lang", lang);
  applyTranslations(lang);

  document.getElementById("en-btn").classList.toggle("active", lang === "en");
  document.getElementById("bg-btn").classList.toggle("active", lang === "bg");
}

document.getElementById("en-btn").onclick = () => setLanguage("en");
document.getElementById("bg-btn").onclick = () => setLanguage("bg");

setLanguage(localStorage.getItem("lang") || "en");

/* ----------------------------------------------------
   4) Mobile Menu
---------------------------------------------------- */

document.querySelector(".menu-toggle").addEventListener("click", () => {
  document.querySelector(".nav").classList.toggle("active");
});

/* ----------------------------------------------------
   5) Scroll Reveal Animations
---------------------------------------------------- */

const revealElements = document.querySelectorAll(
  "section, .service-card, .testimonial-card, .why-card, .case-card"
);

function revealOnScroll() {
  revealElements.forEach(el => {
    const rect = el.getBoundingClientRect();
    if (rect.top < window.innerHeight - 100) {
      el.classList.add("visible");
    }
  });
}

window.addEventListener("scroll", revealOnScroll);
revealOnScroll();

/* ----------------------------------------------------
   6) Stats Counter
---------------------------------------------------- */

const counters = document.querySelectorAll(".number");
let countersStarted = false;

function runCounters() {
  if (countersStarted) return;
  const top = document.querySelector("#stats").getBoundingClientRect().top;
  if (top < window.innerHeight) {
    counters.forEach(counter => {
      const target = +counter.dataset.target;
      let value = 0;
      const speed = target / 100;

      const update = setInterval(() => {
        value += speed;
        counter.textContent = Math.floor(value);
        if (value >= target) clearInterval(update);
      }, 20);
    });
    countersStarted = true;
  }
}

window.addEventListener("scroll", runCounters);

/* ----------------------------------------------------
   7) Hero Slider
---------------------------------------------------- */

let currentSlide = 0;
const slides = document.querySelectorAll(".hero .slide");

function nextHeroSlide() {
  slides[currentSlide].classList.remove("active");
  currentSlide = (currentSlide + 1) % slides.length;
  slides[currentSlide].classList.add("active");
}

setInterval(nextHeroSlide, 4000);

/* ----------------------------------------------------
   8) Portfolio Slider
---------------------------------------------------- */

const portfolioSlides = document.querySelectorAll(".portfolio .slide");
let portfolioIndex = 0;

function showPortfolio(i) {
  portfolioSlides.forEach(s => s.classList.remove("active"));
  portfolioSlides[i].classList.add("active");
}

document.querySelector(".portfolio .prev").onclick = () => {
  portfolioIndex = (portfolioIndex - 1 + portfolioSlides.length) % portfolioSlides.length;
  showPortfolio(portfolioIndex);
};

document.querySelector(".portfolio .next").onclick = () => {
  portfolioIndex = (portfolioIndex + 1) % portfolioSlides.length;
  showPortfolio(portfolioIndex);
};

/* ----------------------------------------------------
   9) Chat Widget
---------------------------------------------------- */

document.querySelector(".chat-toggle").onclick = () =>
  document.querySelector(".chat-box").classList.toggle("open");

document.querySelector(".chat-close").onclick = () =>
  document.querySelector(".chat-box").classList.remove("open");
